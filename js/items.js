var user=localStorage.getItem('user')
let logout =false
if(user){ 
    let log = document.createElement("button")
    log.innerText='Log out'
    logout = true
    log.addEventListener('click', function (){
        if(logout){
          let remove =  document.querySelector(".qLinks")
          remove.removeChild( remove.lastElementChild)
          localStorage.removeItem('user')
          logout = false
            window.location.href= "./index.html"
        }
    } )
    document.querySelector(".qLinks").append(log)


}

var itemsObj = [{
    "imgurl": "https://ak1.ostkcdn.com/images/products/20306592/Lotusville-24.5-inch-Vintage-PU-Leather-Counter-Height-Stools-Set-of-2-7cffe0b7-7653-4f15-8279-65ce9a00c9d1_600.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/6a126721e562d6cd9279e9d431e3a0c9985ad8cc/LUCID-Comfort-Collection-10-inch-Luxury-Gel-Memory-Foam-Mattress.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/9d64dc156a70c8648b4bd315210bf34e60bebe22/Carbon-Loft-Kehlmann-Black-Metal-and-Wood-Desk.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/20483612/Simple-Living-Charlie-5-Piece-Dining-Set-b1563c08-7556-44ba-a2b7-463c1568d311_600.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/1eda202b82a8608daf545743faedbb795cd222db/Wine-Bar-Cabinet.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/1eda202b82a8608daf545743faedbb795cd222db/Wine-Bar-Cabinet.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/240648d78642410f5cbdfb755257371a0ee7ce56/Annecy-24%22-Bathroom-Vanity-in-Phantom-Black.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/a45ba3481cc8954006f0f8940d12df7961debbe6/TV-Stand-for-TVs-up-to-40-inches.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/5b20deec150a90a8deb683ed7bc434d65471f54f/Copper-Grove-Middlecreek-Corner-Farmhouse-Dinette-Set.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/ff5469ce703e23efb418f471cecc41d744159a11/Ergonomic-Office-Chair-with-Lumbar-Support-Back%2C-Adjustable-Headrest.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/f51fce65824a5d8e9f6149fe71e3267f559bd3e1/HomePop-Draper-Large-Decorative-Bench-with-Button-Tufting---Light-Brown-Faux-Leather.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/691fac975a05d973bb5bb9235e872ac56448df7d/Signature-Design-by-Ashley-Chime-12-inch-Hybrid-Mattress.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/61fde5d2873c660fa58ab20c954084f57c92bac8/Glitzhome-iron--Pine-19-inch-Farmhouse-Storage-End-Table-%28Set-of-2%29.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/31fd37f58efc07e1e5f774bddd01f117731dea64/Lifestorey-Valen-Channel-Front-Sideboard.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/065dc210b66a5129712aa382ef4033fe721c504e/Simple-Living-Jamie-Storage-Cabinet.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/a21a7a6cf08ce496f9dbb8028fbdc99f5c1bdc89/Linenspa-Essentials-AlwaysCool-8-inch-Hybrid-Mattress.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/ff28025b8f05658ec1ea3f491e217e67673ad328/Aluminum-Contemporary-Accent-Table.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/55f95147744841c1e70e9dce40dafd4d8a7bd1c4/HOME-Office-Chair%2C-Mid-back-Lumbar-Support-Swivel-Computer-Mesh-Chair.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/eb3fbf0627b5ba8a73db004039ac20d24fdfa484/Carbon-Loft-Kenyon-Round-Metal-Wrap-Side-Table.jpg?imwidth=480&impolicy=medium",
    "price": "13509.34",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"
},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/a3e77d7553c8a7c40014ac458456ded61559a0f0/Josie-Backless-Breakfast-Nook-Bench.jpg?imwidth=480&impolicy=medium",
    "price": "16543.02",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

},
{
    "imgurl": "https://ak1.ostkcdn.com/images/products/is/images/direct/affd82d87cab638a02238daf72bbe8612037f706/Middlebrook-Designs-Gammelstaden-Mid-century-6-drawer-Dresser.jpg?imwidth=480&impolicy=medium",
    "price": "25429.86",
    "text": "Carbon Loft Inyo Vintage PU Leather Counter-height Stools (Set of 2)"

}
];
 

if(localStorage.getItem("myorderitem") === null) {
    var myOrder = []
}
else{
    myOrder = JSON.parse(localStorage.getItem("myorderitem"))
}
if(localStorage.getItem("myList") === null) {
    var myList = []
}
else{
    myList = JSON.parse(localStorage.getItem("myList"))
}

if (localStorage.getItem("itemsInCart") === null) var cartItems = [];
else cartItems = JSON.parse(localStorage.getItem("itemsInCart"));

itemsObj.forEach(element => {
    var card = document.createElement("div");

    var image = document.createElement("img");
    image.setAttribute("src", element.imgurl);

    var price = document.createElement("h3");
    price.innerText = "Sales starts at INR " + element.price;

    var text = document.createElement("p");
    text.innerText = element.text;

    var addToCartBT = document.createElement("button");
    addToCartBT.innerText = "Add to Cart";
    addToCartBT.setAttribute("class", "addTocartBT");

    addToCartBT.addEventListener("click", function () {
        var user=localStorage.getItem('user')
 if(!user){
    alert("Plase log in")
    window.location.href='../Sign _In/Sign _In.html'
    }
    else{
        cartItems.push(element);
        myOrder.push(element)

        localStorage.setItem("myorderitem", JSON.stringify(myOrder));
        localStorage.setItem("itemsInCart", JSON.stringify(cartItems));
        alert("Added to Cart");

    }

})
    var addToList = document.createElement("button");
    addToList.innerText = "Add to Your List";
    addToCartBT.setAttribute("class", "addTocartBT");

    addToList.addEventListener("click", function () {
        var user=localStorage.getItem('user')
        if(!user){
           alert("Plase log in")
           window.location.href='../Sign _In/Sign _In.html'
           }
           else{
            myList.push(element);
        // myOrder.push(element)

        // localStorage.setItem("myorderitem", JSON.stringify(myOrder));
        localStorage.setItem("myList", JSON.stringify(myList));
        alert("Added to Your List");

           }
        
        
    })

    card.append(image, price, text, addToCartBT, addToList);

    document.getElementById("allCards").append(card);


});